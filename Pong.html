<!DOCTYPE html>
<html>
<head>
<title>Pong Game</title>
<style>
body { margin: 0; background: black; overflow: hidden; }
canvas { display: block; margin: auto; background: black; }
</style>
</head>
<body>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let paddleWidth = 100;
let paddleHeight = 15;

let playerX = canvas.width/2 - paddleWidth/2;
let aiX = canvas.width/2 - paddleWidth/2;

let ballX = canvas.width/2;
let ballY = canvas.height/2;
let ballSize = 10;

let ballSpeedX = 5;
let ballSpeedY = 5;

let playerScore = 0;
let aiScore = 0;

let aiSpeed;

let level = prompt("Choose Difficulty: easy / medium / hard");

if(level === "easy"){
    aiSpeed = 2;
}
else if(level === "medium"){
    aiSpeed = 4;
}
else if(level === "hard"){
    aiSpeed = 7;
}
else{
    aiSpeed = 4;
}

document.addEventListener("touchmove", function(e){
    playerX = e.touches[0].clientX - paddleWidth/2;

    if(playerX < 0) playerX = 0;
    if(playerX > canvas.width - paddleWidth)
        playerX = canvas.width - paddleWidth;
});

function update() {
    ballX += ballSpeedX;
    ballY += ballSpeedY;

    if(ballX < 0 || ballX > canvas.width - ballSize)
        ballSpeedX *= -1;

    // Player collision
    if(ballY > canvas.height - 40 &&
       ballX > playerX &&
       ballX < playerX + paddleWidth) {
        ballSpeedY *= -1;
    }

    // AI collision
    if(ballY < 40 &&
       ballX > aiX &&
       ballX < aiX + paddleWidth) {
        ballSpeedY *= -1;
    }

// AI movement
if(ballX > aiX + paddleWidth/2){
    aiX += aiSpeed;
} else {
    aiX -= aiSpeed;
}

    // Scoring
    if(ballY < 0){
        playerScore++;
        resetBall();
    }

    if(ballY > canvas.height){
        aiScore++;
        resetBall();
    }
}

function draw() {
    ctx.clearRect(0,0,canvas.width,canvas.height);

    ctx.fillStyle = "white";

    // Ball
    ctx.fillRect(ballX, ballY, ballSize, ballSize);

    // Player
    ctx.fillRect(playerX, canvas.height-30, paddleWidth, paddleHeight);

    // AI
    ctx.fillRect(aiX, 20, paddleWidth, paddleHeight);

    // Score
    ctx.font = "20px Arial";
    ctx.fillText("Player: " + playerScore, 20, 30);
    ctx.fillText("AI: " + aiScore, canvas.width - 120, 30);
}

function gameLoop() {
    update();
    draw();
    requestAnimationFrame(gameLoop);
}

function resetBall(){
    ballX = canvas.width/2;
    ballY = canvas.height/2;
    ballSpeedY *= -1;
}

gameLoop();
</script>

</body>
  </html>
